// 프로그래머스 고득점 합격 Kit : 동적계획법_등굣길
#include <string>
#include <vector>

using namespace std;

int solution(int m, int n, vector<vector<int>> puddles) {
	int answer = 0;

	// 중간 계산값을 저장할 벡터 dp의 사이즈를 지정 (m+1 * n+1)
	vector<vector<int>> dp(n+1);
	for (int i = 0; i < n+1; i++) {
		dp[i].resize(m+1);
	}

	// 사용할 인덱스 : (1, 1) ~ (m, n)

	// 물에 잠긴 지역을 표시
	for (auto p : puddles) {
		dp[p[1]][p[0]] = -1;
	}

	// 해당 지역으로 이동할 수 있는 경우의 수를 계산
	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= m; j++) {
			if (i == 1 && j == 1) dp[i][j] = 1;

			if (dp[i][j] == -1) continue; // 이동할 지역이 물에 잠긴 지역이라면
			if (dp[i - 1][j] != -1) dp[i][j] += dp[i - 1][j]; // 이동할 지역의 위가 물에 잠긴 지역이라면
			if (dp[i][j - 1] != -1) dp[i][j] += dp[i][j - 1]; // 이동할 지역의 왼쪽이 물에 잠긴 지역이라면
		
			dp[i][j] %= 1000000007;
		}
	}

	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= m; j++) {
			cout << dp[i][j] << " ";
		}
		cout << endl;
	}

	answer = dp[n][m]; // 답안 계산
	return answer; // 답안 리턴
}