// 프로그래머스 고득점 합격 Kit : DFS/BFS_단어 변환
#include <string>
#include <vector>
#include <queue>

using namespace std;

bool checked[50]{false}; // 단어의 방문 여부를 저장

bool possible(string a, string b) {
	int count = 0;
	for (int i = 0; i < a.size(); i++) { // 단어 a와 단어 b가 몇글자가 다른지 확인
		if (a[i] != b[i]) count++;
	}
	if (count == 1) return true; // 1글자만 다르다면
	else return false; // 1글자 이상이 다르다면
}

int solution(string begin, string target, vector<string> words) {
	int answer = 0;

	// bfs를 수행하기 위한 임시저장 공간 {단어, 시작 단어서부터 해당 단어까지 거쳐야 하는 단계}
	queue<pair<string, int>> q;

	q.push({ begin, 0 }); // {시작 단어, 0}을 큐에 삽입

	while (!q.empty()) {
		// 하나의 문자를 꺼낸다.
		string tmp = q.front().first;
		int num = q.front().second;
		q.pop();

		// 꺼낸 문자가 target문자와 동일하다면
		if (tmp.compare(target) == 0) {
			answer = num;
			break;
		}

		// 방문 가능한 단어를 방문하고 큐에 삽입한다.
		for (int i = 0; i < words.size(); i++) {
			if (checked[i]) continue;

			if (possible(tmp, words[i])) { // 방문 가능한 단어인지 확인
				checked[i] = true;
				q.push({ words[i], num + 1 });
			}
		}
	}

	return answer;
}